<div style="margin: 20px;">
    <h2>Anomaly Detection Interface</h2>
    
    <div style="margin-bottom: 15px;">
        <label>Compressor Threshold: <input type="number" id="compThresh" step="0.001" value="0.95"></label>
        <span style="margin-left: 20px;"></span>
        <label>Turbine Threshold: <input type="number" id="turbThresh" step="0.001" value="0.975"></label>
    </div>

    <p>Enter sensor data (16 comma-separated values):</p>
    <textarea id="sensorData" style="width: 100%; height: 100px; margin-bottom: 10px;">1.138,3.0,289.964,1349.489,6677.38,7.584,7.584,464.006,288.0,550.563,1.096,0.998,5.947,1.019,7.137,0.082</textarea>
    <br>
    <button onclick="analyze()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">Analyze Data</button>
    <div id="result" style="margin-top: 20px; font-weight: bold; border: 1px solid #ccc; padding: 10px; min-height: 50px;"></div>
</div>

<script>
function analyze() {
    var data = document.getElementById("sensorData").value;
    var compThresh = document.getElementById("compThresh").value;
    var turbThresh = document.getElementById("turbThresh").value;
    
    // Prepend thresholds to the data
    var payload = compThresh + "," + turbThresh + "," + data;

    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4) {
            if (xhttp.status == 200) {
                document.getElementById("result").innerHTML = xhttp.responseText;
            } else {
                document.getElementById("result").innerHTML = "Error: " + xhttp.status + "<br>" + xhttp.responseText;
            }
        }
    };
    xhttp.open("POST", "/upload/data", true);
    xhttp.send(payload);
}
</script>